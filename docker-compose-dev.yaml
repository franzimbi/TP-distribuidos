---
services:
  distributor:
    build:
      context: .
      dockerfile: distributor/Dockerfile
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - Q1result=Queue_final_Q1
    - Q21result=Queue_final_Q21
    - Q22result=Queue_final_Q22
    - Q3result=Queue_final_Q3
    - Q4result=Queue_final_Q4
    - transactionsQueue=transaction_queue
    - itemsQueue=items_queue
    - productsExchange=productsExchange
    - storesExchange=storesExchange
    - usersExchange=usersExchange
    - q21Products1=entradaJoinerJoin_productos_Q21_1
    - q21Products2=entradaJoinerJoin_productos_Q21_2
    - q22Products1=entradaJoinerJoin_productos_Q22_1
    - q22Products2=entradaJoinerJoin_productos_Q22_2
    - q3Stores1=entradaJoinerJoin_stores_Q3_1
    - q3Stores2=entradaJoinerJoin_stores_Q3_2
    - q4Stores1=entradaJoinerJoin_stores_Q4_1
    - q4Stores2=entradaJoinerJoin_stores_Q4_2
    - q4Users1=entradaJoinerJoin_users_Q4_1
    - q4Users2=entradaJoinerJoin_users_Q4_2
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filtroanio1_1:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=items_queue
    - PRODUCE_QUEUE=Queue_begin2_1,Queue_begin2_2
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_FiltroAnio1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_FiltroAnio1_1
    - FILTER_NAME=byyear
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filtroanio1_2:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=items_queue
    - PRODUCE_QUEUE=Queue_begin2_1,Queue_begin2_2
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_FiltroAnio1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_FiltroAnio1_2
    - FILTER_NAME=byyear
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  filtroanio2_1:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=transaction_queue
    - PRODUCE_QUEUE=Queue_begin_4,Queue_begin_3_y_1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_FiltroAnio2_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_FiltroAnio2_1
    - FILTER_NAME=byyear
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filtroanio2_2:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=transaction_queue
    - PRODUCE_QUEUE=Queue_begin_4,Queue_begin_3_y_1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_FiltroAnio2_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_FiltroAnio2_2
    - FILTER_NAME=byyear
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  filtrohora1_1:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin_3_y_1
    - PRODUCE_QUEUE=Queue_3,Queue_1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_FiltroHora1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_FiltroHora1_1
    - FILTER_NAME=bytime
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filtrohora1_2:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin_3_y_1
    - PRODUCE_QUEUE=Queue_3,Queue_1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_FiltroHora1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_FiltroHora1_2
    - FILTER_NAME=bytime
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  aggregatorsuma_q21_1:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin2_1
    - PRODUCE_QUEUE=ej3
    - TYPE=sum
    - PARAMS=item_id,quantity,month,year_month,created_at,total_quantity
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  aggregatorsuma_q21_2:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin2_1
    - PRODUCE_QUEUE=ej3
    - TYPE=sum
    - PARAMS=item_id,quantity,month,year_month,created_at,total_quantity
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  accumulator_q21:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=ej3
    - PRODUCE_QUEUE=Queue_between_aggregator_reducer_Q21
    - TYPE=accumulator
    - PARAMS=item_id,total_quantity,year_month
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  aggregatorsuma_q22_1:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin2_2
    - PRODUCE_QUEUE=ej4
    - TYPE=sum
    - PARAMS=item_id,subtotal,month,year_month,created_at,total_earnings
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  aggregatorsuma_q22_2:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
      - distributor
    restart: on-failure
    environment:
      - PYTHONUNBUFFERED=1
      - CONSUME_QUEUE=Queue_begin2_2
      - PRODUCE_QUEUE=ej4
      - TYPE=sum
      - PARAMS=item_id,subtotal,month,year_month,created_at,total_earnings
    networks:
      - mynet
    volumes:
      - ./config.ini:/app/config.ini

  accumulator_q22:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
      - distributor
    restart: on-failure
    environment:
      - PYTHONUNBUFFERED=1
      - CONSUME_QUEUE=ej4
      - PRODUCE_QUEUE=Queue_between_aggregator_reducer_Q22
      - TYPE=accumulator
      - PARAMS=item_id,total_earnings,year_month
    networks:
      - mynet
    volumes:
      - ./config.ini:/app/config.ini

  aggregatorsuma_q3_1:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_3
    - PRODUCE_QUEUE=ej1
    - TYPE=sum
    - PARAMS=store_id,final_amount,semester,year_semester,created_at,tpv
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  aggregatorsuma_q3_2:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_3
    - PRODUCE_QUEUE=ej1
    - TYPE=sum
    - PARAMS=store_id,final_amount,semester,year_semester,created_at,tpv #store_id,tpv,year_semester
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  accumulator_q4:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=ej2
    - PRODUCE_QUEUE=Queue_between_aggregator_reducer_Q4
    - TYPE=accumulator
    - PARAMS=store_id,purchases_qty,user_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  accumlator_q3:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=ej1
    - PRODUCE_QUEUE=Queue_between_aggregator_join_Q3
    - TYPE=accumulator
    - PARAMS=store_id,tpv,year_semester
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  aggregatorcounter_q4_1:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin_4
    - PRODUCE_QUEUE=ej2
    - TYPE=counter
    - PARAMS=store_id,user_id,purchases_qty
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  aggregatorcounter_q4_2:
    build:
      context: .
      dockerfile: aggregator/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_begin_4
    - PRODUCE_QUEUE=ej2
    - TYPE=counter
    - PARAMS=store_id,user_id,purchases_qty
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  reducerreducer_q21_1:
    build:
      context: .
      dockerfile: reducer/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_between_aggregator_reducer_Q21
    - PRODUCE_QUEUE=Queue_between_reducer_joiner_Q21
    - TOP=1
    - PARAMS=year_month,item_id,total_quantity
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  reducerreducer_q22_1:
    build:
      context: .
      dockerfile: reducer/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_between_aggregator_reducer_Q22
    - PRODUCE_QUEUE=Queue_between_reducer_joiner_Q22
    - TOP=1
    - PARAMS=year_month,item_id,total_earnings
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  reducerreducer_q4_1:
    build:
      context: .
      dockerfile: reducer/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_between_aggregator_reducer_Q4
    - PRODUCE_QUEUE=Queue_final_Q4
    - TOP=3
    - PARAMS=store_id,user_id,purchases_qty
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filter_amount_q1_1:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_1
    - PRODUCE_QUEUE=Queue_between_filter_amount_filter_columna_Q1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_Filter_amount_Q1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_Filter_amount_Q1_1
    - FILTER_NAME=byamount
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filter_amount_q1_2:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_1
    - PRODUCE_QUEUE=Queue_between_filter_amount_filter_columna_Q1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_Filter_amount_Q1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_Filter_amount_Q1_2
    - FILTER_NAME=byamount
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  filter_column_q1_1:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_between_filter_amount_filter_columna_Q1
    - PRODUCE_QUEUE=Queue_final_Q1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_Filter_column_Q1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_Filter_column_Q1_1
    - FILTER_NAME=bycolumn
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  filter_column_q1_2:
    build:
      context: .
      dockerfile: filter/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - CONSUME_QUEUE=Queue_between_filter_amount_filter_columna_Q1
    - PRODUCE_QUEUE=Queue_final_Q1
    - QUEUE_PRODUCE_FOR_COORDINATOR=coordinator_Filter_column_Q1_unique_queue
    - QUEUE_CONSUME_FROM_COORDINATOR=_coordinator_produce_for_Filter_column_Q1_2
    - FILTER_NAME=bycolumn
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  join_productos_q21_1:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,productsExchange
    - queueEntradaJoin=entradaJoinerJoin_productos_Q21_1
    - queueEntradaData=Queue_between_reducer_joiner_Q21
    - queuesSalida=Queue_final_Q21
    - queue_to_send_coordinator=coodinator_Join_productos_Q21_unique_queue
    - queue_to_receive_coordinator=Join_productos_Q21_1_receive_from_coordinator_Join_productos_Q21
    - use_diskcache=False
    - params=item_name,item_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  join_productos_q21_2:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,productsExchange
    - queueEntradaJoin=entradaJoinerJoin_productos_Q21_2
    - queueEntradaData=Queue_between_reducer_joiner_Q21
    - queuesSalida=Queue_final_Q21
    - queue_to_send_coordinator=coodinator_Join_productos_Q21_unique_queue
    - queue_to_receive_coordinator=Join_productos_Q21_2_receive_from_coordinator_Join_productos_Q21
    - use_diskcache=False
    - params=item_name,item_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  join_productos_q22_1:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,productsExchange
    - queueEntradaJoin=entradaJoinerJoin_productos_Q22_1
    - queueEntradaData=Queue_between_reducer_joiner_Q22
    - queuesSalida=Queue_final_Q22
    - queue_to_send_coordinator=coodinator_Join_productos_Q22_unique_queue
    - queue_to_receive_coordinator=Join_productos_Q22_1_receive_from_coordinator_Join_productos_Q22
    - use_diskcache=False
    - params=item_name,item_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  join_productos_q22_2:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,productsExchange
    - queueEntradaJoin=entradaJoinerJoin_productos_Q22_2
    - queueEntradaData=Queue_between_reducer_joiner_Q22
    - queuesSalida=Queue_final_Q22
    - queue_to_send_coordinator=coodinator_Join_productos_Q22_unique_queue
    - queue_to_receive_coordinator=Join_productos_Q22_2_receive_from_coordinator_Join_productos_Q22
    - use_diskcache=False
    - params=item_name,item_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  join_stores_q3_1:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,storesExchange
    - queueEntradaJoin=entradaJoinerJoin_stores_Q3_1
    - queueEntradaData=Queue_between_aggregator_join_Q3
    - queuesSalida=Queue_final_Q3
    - queue_to_send_coordinator=coodinator_Join_stores_Q3_unique_queue
    - queue_to_receive_coordinator=Join_stores_Q3_1_receive_from_coordinator_Join_stores_Q3
    - use_diskcache=False
    - params=store_name,store_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  join_stores_q3_2:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,storesExchange
    - queueEntradaJoin=entradaJoinerJoin_stores_Q3_2
    - queueEntradaData=Queue_between_aggregator_join_Q3
    - queuesSalida=Queue_final_Q3
    - queue_to_send_coordinator=coodinator_Join_stores_Q3_unique_queue
    - queue_to_receive_coordinator=Join_stores_Q3_2_receive_from_coordinator_Join_stores_Q3
    - use_diskcache=False
    - params=store_name,store_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  join_users_q4_1:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,usersExchange
    - queueEntradaJoin=entradaJoinerJoin_users_Q4_1
    - queueEntradaData=Queue_between_reducer_joiner_Q4
    - queuesSalida=Queue_between_joiner_users_and_joiner_stores_Q4
    - queue_to_send_coordinator=coodinator_Join_users_Q4_unique_queue
    - queue_to_receive_coordinator=Join_users_Q4_1_receive_from_coordinator_Join_users_Q4
    - use_diskcache=True
    - params=birthdate,user_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  join_users_q4_2:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,usersExchange
    - queueEntradaJoin=entradaJoinerJoin_users_Q4_2
    - queueEntradaData=Queue_between_reducer_joiner_Q4
    - queuesSalida=Queue_between_joiner_users_and_joiner_stores_Q4
    - queue_to_send_coordinator=coodinator_Join_users_Q4_unique_queue
    - queue_to_receive_coordinator=Join_users_Q4_2_receive_from_coordinator_Join_users_Q4
    - use_diskcache=True
    - params=birthdate,user_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  join_stores_q4_1:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,storesExchange
    - queueEntradaJoin=entradaJoinerJoin_stores_Q4_1
    - queueEntradaData=Queue_between_joiner_users_and_joiner_stores_Q4
    - queuesSalida=Queue_final_Q4
    - queue_to_send_coordinator=coodinator_Join_stores_Q4_unique_queue
    - queue_to_receive_coordinator=Join_stores_Q4_1_receive_from_coordinator_Join_stores_Q4
    - use_diskcache=False
    - params=store_name,store_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini
  join_stores_q4_2:
    build:
      context: .
      dockerfile: joinner/Dockerfile
    depends_on:
    - distributor
    restart: on-failure
    environment:
    - PYTHONUNBUFFERED=1
    - entradaJoin=exchange,storesExchange
    - queueEntradaJoin=entradaJoinerJoin_stores_Q4_2
    - queueEntradaData=Queue_between_joiner_users_and_joiner_stores_Q4
    - queuesSalida=Queue_final_Q4
    - queue_to_send_coordinator=coodinator_Join_stores_Q4_unique_queue
    - queue_to_receive_coordinator=Join_stores_Q4_2_receive_from_coordinator_Join_stores_Q4
    - use_diskcache=False
    - params=store_name,store_id
    networks:
    - mynet
    volumes:
    - ./config.ini:/app/config.ini

  cliente_1:
    build:
      context: .
      dockerfile: client/Dockerfile
    restart: on-failure
    depends_on:
    - distributor
    links:
    - distributor
    environment:
    - PYTHONUNBUFFERED=1
    - DISTRIBUTOR_HOST=distributor
    - DISTRIBUTOR_PORT=5000
    volumes:
    - ./config.ini:/app/config.ini
    - ./csvs_files:/app/csvs_files
    - ./csvs_files_reduced:/app/csvs_files_reduced
    - ./csvs_files_juguete:/app/csvs_files_juguete
    - ./results_cliente_1:/app/results
    networks:
    - mynet

  cliente_2:
    build:
      context: .
      dockerfile: client/Dockerfile
    restart: on-failure
    depends_on:
      - distributor
    links:
      - distributor
    environment:
      - PYTHONUNBUFFERED=1
      - DISTRIBUTOR_HOST=distributor
      - DISTRIBUTOR_PORT=5000
    volumes:
      - ./config.ini:/app/config.ini
      - ./csvs_files:/app/csvs_files
      - ./csvs_files_reduced:/app/csvs_files_reduced
      - ./csvs_files_juguete:/app/csvs_files_juguete
      - ./results_cliente_2:/app/results
    networks:
      - mynet
networks:
  mynet:
    external: false
    driver: bridge
